<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
    <!-- Font directory list -->
    <dir>/usr/share/fonts</dir>

    <!-- Accept deprecated 'mono' alias, replacing it with 'monospace' -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>mono</string>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>monospace</string>
        </edit>
    </match>

    <!-- Accept alternate 'sans serif' spelling, replacing it with 'sans-serif' -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>sans serif</string>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>sans-serif</string>
        </edit>
    </match>

    <!-- Accept deprecated 'sans' alias, replacing it with 'sans-serif' -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>sans</string>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>sans-serif</string>
        </edit>
    </match>

    <!-- Ignore dpkg temporary files created in fonts directories -->
    <selectfont>
        <rejectfont>
            <glob>*.dpkg-tmp</glob>
        </rejectfont>
    </selectfont>
    <selectfont>
        <rejectfont>
            <glob>*.dpkg-new</glob>
        </rejectfont>
    </selectfont>
    -->

    <!-- Font cache directory list -->
    <cachedir>/var/cache/fontconfig</cachedir>

    <!-- Antialias -->
    <match target="pattern">
        <edit name="antialias" mode="append">
            <bool>true</bool>
        </edit>
    </match>

    <!-- Autohint -->
    <match target="pattern">
        <edit name="autohint" mode="append">
            <!-- true or false -->
            <bool>true</bool>
        </edit>
    </match>

    <!-- Hinting -->
    <match target="pattern">
        <edit name="hintstyle" mode="append">
            <const>hintslight</const>
        </edit>
    </match>

    <!-- Sub-pixel order -->
    <match target="pattern">
        <edit name="rgba" mode="append">
            <const>rgb</const>
        </edit>
    </match>
    <match target="pattern">
        <edit mode="append" name="lcdfilter">
            <!-- lcddefault or lcdlight or lcdlegacy or lcdnone -->
            <const>lcddefault</const>
        </edit>
    </match>

    <!-- Reject bitmap fonts -->
    <selectfont>
        <rejectfont>
            <pattern>
                <patelt name="scalable">
                    <bool>false</bool>
                </patelt>
            </pattern>
        </rejectfont>
    </selectfont>

    <!-- Set default DPI -->
    <match target="pattern">
        <edit name="dpi" mode="assign">
            <double>96</double>
        </edit>
    </match>

    <!-- Artificial oblique for fonts without an italic or oblique version -->
    <match target="font">
        <test name="slant">
            <const>roman</const>
        </test>
        <test target="pattern" name="slant" compare="not_eq">
            <const>roman</const>
        </test>
        <edit name="matrix" mode="assign">
            <times>
                <name>matrix</name>
                <matrix>
                    <double>1</double>
                    <double>0.2</double>
                    <double>0</double>
                    <double>1</double>
                </matrix>
            </times>
        </edit>
        <edit name="slant" mode="assign">
            <const>oblique</const>
        </edit>
        <edit name="embeddedbitmap" mode="assign">
            <bool>false</bool>
        </edit>
    </match>

    <!-- Set default font -->
    <match>
        <edit mode="prepend" name="family">
            <string>Noto Sans</string>
        </edit>
    </match>

    <!-- Set Noto Sans CJK JP as fallback font for Monotype -->
    <match>
        <test qual="any" name="family">
            <string>Monotype</string>
        </test>
        <edit name="family" mode="append" binding="strong">
            <string>Noto Sans CJP JP</string>
        </edit>
    </match>

    <!-- Alternative stylistic sets for Monotype -->
    <match target='font'>
        <test name='fontformat' compare='not_eq'>
            <string/>
        </test>
        <test name='family'>
            <string>Monotype</string>
        </test>
        <edit name='fontfeatures' mode='assign_replace'>
            <string>ss03</string>
        </edit>
    </match>
</fontconfig>
